---
import "@/styles/global.css";
import MainLayout from "@/layouts/MainLayout.astro";

import PostPreviewCard from "@/components/PostPreviewCard.astro";
const allPosts = Object.values(
  import.meta.glob("./posts/*.astro", { eager: true }),
);
---

<MainLayout content={{ title: "Blog" }}>
  <div class="mx-auto max-w-5xl px-4 py-12">
    <h1 class="text-balance text-3xl font-bold text-foreground">
      Blog
    </h1>
    <p class="mt-2 text-muted-foreground">
      A collection of my latest articles and insights.
    </p>
    
    <div class="mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
      {allPosts.map((post: any) => (
        <PostPreviewCard 
          title={post.metadata.title}
          date={post.metadata.date}
          image={post.metadata.image}
          postUrl={post.url}
        />
      ))}
    </div>
  </div>
</MainLayout>
